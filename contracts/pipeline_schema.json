{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Podcast AI Pipeline Output Schema",
  "type": "object",
  "required": ["audio_file", "language_detected", "segments"],
  "properties": {
    "audio_file": {
      "type": "string",
      "description": "Original audio file name"
    },
    "language_detected": {
      "type": "string",
      "description": "ISO 639-1 language code detected by ASR or language detector"
    },
    "total_segments": {
      "type": "integer",
      "description": "Total number of segments (optional but recommended)"
    },
    "segments": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": [
          "segment_id",
          "start",
          "end",
          "language",
          "text",
          "translation",
          "romanized"
        ],
        "properties": {
          "segment_id": {
            "type": "integer",
            "minimum": 0
          },
          "start": {
            "type": "number",
            "minimum": 0
          },
          "end": {
            "type": "number",
            "exclusiveMinimum": 0
          },
          "language": {
            "type": "string",
            "description": "Language of this segment"
          },
          "text": {
            "type": "string",
            "minLength": 1
          },
          "translation": {
            "type": "string",
            "minLength": 1
          },
          "romanized": {
            "type": "string",
            "minLength": 1
          }
        }
      }
    }
  }
}
